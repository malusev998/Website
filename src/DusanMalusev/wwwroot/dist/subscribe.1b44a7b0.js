(()=>{function e(e){return e&&e.__esModule?e.default:e}function r(e,r,t,a){Object.defineProperty(e,r,{get:t,set:a,enumerable:!0,configurable:!0})}var t=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}).parcelRequire94cf;t.register("dTpdY",(function(a,n){r(a.exports,"subscribeFormHandler",(()=>d));var s=t("fXUNG"),i=t("49CGq"),o=t("e0oFe"),l=t("laqxv"),c=t("dxJzp");const d=(r,t,a,n)=>async d=>{d.preventDefault();const u=document.getElementById(r),m=document.getElementById(t),f=document.getElementById(a),g=document.getElementById(n),p=await(async e=>{try{await l.schema.validate(e,{recursive:!0,abortEarly:!1}),console.log("validated"),await o.ready(),console.log("ready");const r=await o.execute("contact"),t=await i.http("/subscribe/new",i.HttpMethod.POST,e,null,r),a=await t.json();return{id:a.id,name:a.name,email:a.email,createdAt:new Date(a.createdAt)}}catch(e){if(console.error(e),e instanceof s.ValidationError){const r={nameError:"",emailError:""};return e.inner.forEach((e=>{"name"===e.path?r.nameError=e.errors[0]:"email"===e.path&&(r.emailError=e.errors[0])})),r}return{message:"Try again please"}}})({name:u.value,email:m.value});if("message"in p)e(c).fire({title:"Error",text:p.message,icon:"error",timerProgressBar:!0});else{if("nameError"in p&&"emailError"in p)return""!==p.nameError&&(u.classList.add("input-error"),f.classList.remove("hidden"),f.innerText=p.nameError),""!==p.emailError&&(m.classList.add("input-error"),g.classList.remove("hidden"),g.innerText=p.emailError),void setTimeout((()=>{f.classList.add("hidden"),g.classList.add("hidden"),m.classList.remove("input-error"),u.classList.remove("input-error")}),4e3);gtag("event","subscribe",{event_category:"subscription",event_label:"New user subscribed to news letters"}),e(c).fire({title:"Success",text:"You have successfully subscribed to newsletters",icon:"success",timerProgressBar:!0})}}})),t.register("laqxv",(function(e,a){r(e.exports,"schema",(()=>s));var n=t("fXUNG");const s=n.object().shape({name:n.string().required().max(50),email:n.string().required().email().max(150)})}))})();